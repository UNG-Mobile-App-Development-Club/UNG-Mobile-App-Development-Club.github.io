<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Accomplishments – UNG App Dev Club</title>
  <link rel="stylesheet" href="styles.css" />
  <link
    rel="icon"
    type="image/png"
    href="images/UNG_App_Development_Club_Icon.png"
  />
</head>
<body>

  <!-- NAV -->
  <header class="nav">
    <div class="container nav-container">
      <a href="index.html" class="logo">
        <img src="images/UNG_App_Development_Club_Icon.png" alt="Logo">
      </a>
      <nav class="nav-menu">
        <a href="index.html">Home</a>
        <a href="projects.html">Projects</a>
        <a href="accomplishments.html" class="active">Accomplishments</a>
        <a href="events.html">Events</a>
        <a href="contact-us.html">Contact</a>
      </nav>
      <button class="menu-toggle">☰</button>
    </div>
  </header>

  <!-- HERO -->
  <section class="accomplishments-hero">
    <div class="container">
      <h1>Our Milestones</h1>
      <p>Celebrating the successes and growth of our club.</p>
    </div>
  </section>

  <!-- GRID (initially empty!) -->
  <section class="accomplishments-section container">
    <div class="accomplishments-grid">
      <!-- ← No static cards here — JS will populate -->
    </div>
  </section>

  <!-- FOOTER -->
  <footer class="footer">
    <div class="container">
      <p>&copy; 2025 UNG App Development Club</p>
    </div>
  </footer>

  <!-- DYNAMIC FETCH SCRIPT -->
  <script>
    // 1) Set these to your org & repo:
    const ORG  = 'UNG-Mobile-App-Development-Club';
    const REPO = 'accomplishments';

    async function loadAccomplishments() {
      try {
        const response = await fetch(
          `https://api.github.com/repos/${ORG}/${REPO}/issues`
          + `?labels=accomplishment&state=all&per_page=100`
        );
        if (!response.ok) throw new Error(response.statusText);
        const issues = await response.json();

        const grid = document.querySelector('.accomplishments-grid');
        // Build cards from issues
        grid.innerHTML = issues.map(issue => {
  const date = new Date(issue.created_at)
    .toLocaleString('default',{month:'short',year:'numeric'});
  const title = issue.title.replace(/^\[.*?\]\s*–\s*/, '').trim();
  // Use full body (and convert newlines to <br> so they render):
  const description = issue.body.replace(/\n/g,'<br>');

  return `
    <div class="accomplishment-card" data-date="${date}">
      <h3>
        <a href="${issue.html_url}" target="_blank" rel="noopener">
          ${title}
        </a>
      </h3>
      <p>${description}</p>
    </div>`;
}).join('');
      } catch (err) {
        console.error('Unable to load accomplishments:', err);
        document.querySelector('.accomplishments-grid').innerHTML = 
          '<p style="color:red; text-align:center;">Couldn’t fetch milestones. Try again later.</p>';
      }
    }

    // 2) Run it
    loadAccomplishments();
  </script>

</body>
</html>
